# RecuperoViewer

A modern web-based FHIR Bundle viewer and analyzer that allows users to query FHIR servers, select bundles, and view detailed information in a structured format.

## Features

- **FHIR Server Integration**: Query any FHIR server for bundles using date-based filters
- **Bundle Selection**: Browse and select from multiple bundles returned by the server
- **Structured View**: Display bundle information in organized sections:
  - Patient Demographics
  - Service Details (including procedure codes)
  - Coverage Information
  - Requesting Clinician
  - Performing Clinician
  - Insurance Details
  - Attachments (with PDF viewing links)
- **Export Functionality**: Download selected bundles as JSON files
- **Responsive Design**: Works on desktop and mobile devices
- **Modern UI**: Clean, intuitive interface built with Bootstrap 5

## Usage

### 1. Server Configuration
- Enter the FHIR server URL (default: `https://fhirserver.hl7fundamentals.org/fhir/Bundle`)
- Select a date filter to query bundles from that date onwards
- Click "Search Bundles" to fetch data from the server

### 2. Bundle Selection
- View the list of available bundles with their IDs, timestamps, and types
- Click on any bundle to select it and view its details

### 3. Bundle Details
The selected bundle is displayed in organized sections:

#### Patient Demographics
- Patient ID
- Full Name
- Birth Date
- Gender

#### Service Details
- Claim ID and Status
- Created Date
- Procedures (with codes, descriptions, and dates)
- Diagnoses (with codes and descriptions)
- Service Request information

#### Coverage
- Insurance coverage identifiers and systems

#### Clinicians
- Requesting clinician information
- Performing clinician details

#### Insurance
- Insurance provider details
- Coverage information

#### Attachments
- Document references
- PDF viewing links (opens in new tab)

### 4. Export
- Click "Export JSON" to download the selected bundle as a JSON file

## Technical Details

### FHIR Query Format
The application uses the following query format:
```
{serverUrl}?timestamp=ge{date}
```

Example:
```
https://fhirserver.hl7fundamentals.org/fhir/Bundle?timestamp=ge2025-03-13T00:00:10-03:00
```

### Supported FHIR Resources
The viewer can display information from these FHIR resource types:
- **Bundle**: Container for multiple resources
- **Patient**: Patient demographic information
- **Claim**: Healthcare claim information
- **ServiceRequest**: Service request details
- **Practitioner**: Healthcare practitioner information
- **Organization**: Organization details
- **DocumentReference**: Document and attachment references

### Browser Compatibility
- Chrome 60+
- Firefox 55+
- Safari 12+
- Edge 79+

## Setup

1. **Clone or download** the project files
2. **Open** `index.html` in a web browser
3. **Configure** the FHIR server URL and date filter
4. **Start** querying and viewing bundles

### Local Development
For local development, you can serve the files using any HTTP server:

```bash
# Using Python 3
python -m http.server 8000

# Using Node.js (if you have http-server installed)
npx http-server

# Using PHP
php -S localhost:8000
```

Then open `http://localhost:8001` in your browser.

## Configuration

### FHIR Server URL
Change the default server URL in the configuration section or modify the `serverUrl` input field in `index.html`.

### Date Format
The application automatically formats dates for FHIR queries using the ISO 8601 format with timezone offset.

### Styling
Customize the appearance by modifying `styles.css`. The application uses Bootstrap 5 for the base styling.

## Error Handling

The application includes comprehensive error handling for:
- Network connectivity issues
- Invalid FHIR server URLs
- Missing or malformed bundle data
- CORS issues (when applicable)

Error messages are displayed clearly to help users troubleshoot issues.

## Security Considerations

- The application runs entirely in the browser
- No data is stored locally or transmitted to third parties
- FHIR server credentials are not required (uses public endpoints)
- PDF attachments open in new tabs for security

## Integration with RecuperoGenerator

This viewer is designed to work with bundles generated by the RecuperoGenerator project. It can display:
- Patient data randomized by RecuperoGenerator
- Procedure codes from FSH code systems
- Date information with logical relationships
- All other bundle components

## Support

For issues or questions:
1. Check the browser console for error messages
2. Verify the FHIR server URL is accessible
3. Ensure the date filter is properly set
4. Check that the FHIR server returns valid JSON responses

## License

This project is part of the RecuperoGenerator suite and follows the same licensing terms.

---

**Project by:** Diego & AI assistant  
**FHIR Version:** R4  
**Last Updated:** 2025-07-11 